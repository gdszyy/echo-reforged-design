# 复合 Build 系统设计文档

> **文档版本**: 0.1 (草案)
> **最后更新**: 2025-01-06

## 概述

《Echo Reforged》的 Build 系统采用**复合架构**，融合了两种经典的 Build 设计范式：

| 范式 | 特征 | 玩家体验 |
| :--- | :--- | :--- |
| **圆桌类型 (Round Table)** | 有限权重、机会成本、零和博弈 | 每一次选择都意味着放弃其他可能性，强调取舍 |
| **瀑布类型 (Waterfall)** | 累积叠加、成长可见、正反馈循环 | 越玩越强，Build 的威力随时间/投入增长 |

本游戏的 Build 系统由三个相互关联的子系统组成：

1. **钉盘养成系统** (圆桌类型)
2. **子弹编程系统** (瀑布类型)
3. **符文填字谜系统** (圆桌 & 瀑布混合)

---

## 一、钉盘养成系统

### 1.1 核心概念

每个**发射器**都拥有一个专属的**钉盘 (Peg Board)**。钉盘上分布着若干**钉子插槽 (Peg Slots)**，玩家需要在有限的插槽中选择安装哪些钉子。

当弹珠在钉盘中弹跳并撞击钉子时，会根据钉子的类型获得对应的**属性层数**，这些属性层数将被应用于最终射出的**子弹**。

### 1.2 设计要点

**圆桌特性体现**：

- **插槽有限**: 钉盘的插槽数量是固定的（或通过升级缓慢增加），玩家无法安装所有想要的钉子。
- **位置策略**: 钉子的位置影响弹珠撞击它的概率。核心位置的钉子更容易被触发，但数量稀少。
- **互斥钉子**: 部分高级钉子可能存在互斥关系（如"火焰钉"和"冰霜钉"不能同时安装在相邻插槽）。

**待细化问题**：

- [ ] 钉盘的初始大小和升级曲线？
- [ ] 钉子的获取途径（战斗掉落、商店购买、制作）？
- [ ] 是否存在"钉盘形状"的概念（不同发射器的钉盘布局不同）？

### 1.3 钉子类型初步构想

| 钉子类型 | 效果 | 设计定位 |
| :--- | :--- | :--- |
| **属性钉** | 撞击时为子弹添加对应元素属性层数（火/冰/电） | 基础构建块 |
| **强化钉** | 撞击时提升子弹的基础伤害/穿透/反弹次数 | 数值增强 |
| **触发钉** | 撞击时有概率触发特殊效果（如生成额外弹珠） | 随机性与爆发 |
| **连锁钉** | 撞击后会"激活"相邻的钉子，产生连锁效果 | 高级策略 |

---

## 二、子弹编程系统

### 2.1 核心概念

子弹是玩家对敌人造成伤害的最终载体。子弹的行为由其携带的**属性**决定，这些属性来源于钉盘系统（弹珠撞击钉子获得）和符文系统（被动加成）。

子弹的三大核心物理属性——**散射 (Scatter)**、**穿透 (Pierce)**、**反弹 (Bounce)**——构成了子弹编程的基础。

### 2.2 三大物理属性

| 属性 | 效果描述 | 单独效果 |
| :--- | :--- | :--- |
| **散射 (Scatter)** | 子弹在发射或特定条件下分裂成多个子弹 | 提升覆盖范围，适合群体清场 |
| **穿透 (Pierce)** | 子弹击中敌人后不会消失，继续飞行 | 提升单次发射的总伤害，适合线性排列的敌人 |
| **反弹 (Bounce)** | 子弹击中敌人或边界后改变方向继续飞行 | 延长子弹存活时间，提升混乱场景的命中率 |

### 2.3 属性协同效应 (1+1 > 2)

**瀑布特性体现**：属性层数可以叠加，且不同属性的组合会产生超越简单加法的协同效应。

| 组合 | 协同效应 | 策略定位 |
| :--- | :--- | :--- |
| **散射 + 穿透** | 分裂出的每个子弹都具有穿透能力，形成"弹幕穿透" | 对密集敌群的毁灭性打击 |
| **散射 + 反弹** | 分裂出的子弹各自反弹，形成"弹幕风暴" | 封锁整个战场，适合持久战 |
| **穿透 + 反弹** | 子弹穿透敌人后继续反弹，形成"回旋镖"效果 | 单体高伤害，适合Boss战 |
| **散射 + 穿透 + 反弹** | 终极形态：分裂、穿透、反弹全开 | 需要大量资源投入，是Build的终极目标 |

### 2.4 温度系统：元素属性联动

除了物理属性，子弹还可以携带**元素属性**，形成另一套协同体系。

| 元素 | 基础效果 | 元素联动 |
| :--- | :--- | :--- |
| **火 (Pyro)** | 造成持续燃烧伤害 (DoT) | 火 + 冰 = **蒸发**：瞬间高额伤害 |
| **冰 (Cryo)** | 减速敌人，叠满层数冻结 | 冰 + 电 = **超导**：降低敌人防御 |
| **电 (Electro)** | 对周围敌人造成连锁伤害 | 电 + 火 = **过载**：范围爆炸伤害 |

---

## 三、符文填字谜系统

### 3.1 核心概念

符文系统是一个**空间解谜 + Build 构建**的混合系统。玩家拥有一个**符文格 (Rune Grid)**，需要将获得的**符文 (Runes)** 填入格子中。

当符文在横向或纵向上组成特定的**符文词组 (Rune Words)** 时，会激活对应的**被动效果**（类似原 Echo 项目中的遗物效果）。

### 3.2 设计要点

**圆桌特性体现**：

- **格子有限**: 符文格的大小有限，无法放置所有符文。
- **空间冲突**: 一个格子只能放一个符文，放置新符文可能破坏已有的词组。

**瀑布特性体现**：

- **词组叠加**: 可以同时激活多个符文词组，效果叠加。
- **高级词组**: 更长的词组（如四字词组）效果更强，但更难组成。

### 3.3 符文词组示例

| 词组 | 组成符文 | 激活效果 |
| :--- | :--- | :--- |
| **烈焰** | 火 + 焰 | 火属性伤害 +20% |
| **寒冰** | 寒 + 冰 | 冰冻持续时间 +1秒 |
| **雷霆万钧** | 雷 + 霆 + 万 + 钧 | 电属性攻击有 15% 概率造成双倍伤害 |
| **生生不息** | 生 + 生 + 不 + 息 | 每回合恢复 1% 最大生命值 |

### 3.4 待细化问题

- [ ] 符文的获取途径？
- [ ] 符文格的初始大小和扩展方式？
- [ ] 是否存在"万能符文"可以匹配任意字符？
- [ ] 符文是否可以旋转或镜像？

---

## 四、三系统联动

三个子系统并非孤立存在，而是相互影响、相互增强。

```
┌─────────────────────────────────────────────────────────┐
│                     符文填字谜系统                        │
│  (提供全局被动加成，影响钉盘和子弹的基础属性)              │
└─────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────┐
│                      钉盘养成系统                         │
│  (决定弹珠能获得哪些属性层数，是Build的"输入端")          │
└─────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────┐
│                      子弹编程系统                         │
│  (将属性层数转化为实际战斗效果，是Build的"输出端")        │
└─────────────────────────────────────────────────────────┘
```

**联动示例**：

1. 玩家在**符文格**中组成"烈焰"词组，获得"火属性伤害 +20%"的被动。
2. 玩家在**钉盘**中安装多个"火焰钉"，确保弹珠能获得大量火属性层数。
3. 弹珠在钉盘中弹跳，撞击火焰钉，为子弹叠加火属性层数。
4. **子弹**射出，携带高层数的火属性，配合符文的加成，造成巨额燃烧伤害。

---

## 五、开放问题与下一步

1. **数值框架**: 各系统的数值如何平衡？属性层数与最终伤害的换算公式？
2. **获取节奏**: 钉子、符文的获取节奏如何设计，才能让玩家感受到持续的成长？
3. **信息呈现**: 如何向玩家清晰地展示这套复杂系统的状态和效果？
4. **新手引导**: 如何分阶段引入这三个系统，避免信息过载？

